package com.bank.services;

import static org.junit.Assert.assertNotNull;
import static org.mockito.Mockito.mock;
import static org.mockito.Mockito.when;

import java.util.Date;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.mockito.Mockito;

import com.bank.dao.CustomerOperationsDAO;
import com.bank.exception.BussinessException;
import com.bank.modal.Customer;
import com.bank.services.impl.CustomerOperationsImpl;

class CustomerOperationsTest {
	
	/*
	 private int c_id;
	private String name;
	private String email;
	private String pass;
	private long number;
	private long ssn;
	private String gender;
	private Date dob;
	private String address;
	private int age;
	 */
	
	Customer mockCustomer;
	CustomerOperationsDAO mockCustomerOperationsDAO;
	CustomerOperations customerOperations = new CustomerOperationsImpl();
	
	@BeforeEach
	public void setUp() {
		mockCustomer = mock(Customer.class);
		mockCustomerOperationsDAO = mock(CustomerOperationsDAO.class);
	}

	@Test
	void testNewCustomerRegistration() throws BussinessException {
		
		
		when(mockCustomer.getGender()).thenReturn("male");
		when(mockCustomer.getEmail()).thenReturn("sagar@gmail.com");
		when(mockCustomer.getNumber()).thenReturn(1234567890L);
		when(mockCustomer.getSsn()).thenReturn(123456789L);
		
		when(mockCustomerOperationsDAO.newCustomerRegistration(cus)).thenReturn(1);
		
		System.out.println(cus.getDob());
		
		assertNotNull(customerOperations.newCustomerRegistration(mockCustomer));
		System.out.println("New Customer Registered Successfully.");
	
	}

}

/*
 Customer cus = new Customer();
		cus.setName("sagar");
		cus.setEmail("sagar@gmail.com");
		cus.setPass("qwerty");
		cus.setNumber(1234567890);
		cus.setSsn(123456789);
		cus.setGender("male");
		cus.setDob(new Date());
		cus.setAddress("");
		cus.setAge(0);
		
 */


